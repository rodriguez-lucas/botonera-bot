{% extends "base_logged.html" %}

{% block content %}
    <div class="d-flex flex-row-reverse">
        <div class="p-2">
            <form class="form-inline" method="get" action="{% url 'sounds' %}">
                <div class="form-group" style="margin-right: 8px;">
                    <label>
                        <input type="text" class="form-control" placeholder="Sonido..." name="query">
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <button type="submit" class="btn btn-primary">Buscar</button>
                    </label>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-sm">
            <div style="height: 89vh;overflow-y: scroll;">
                <table class="table table-striped table-sm table-border">
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Sonido</th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for sound in sounds %}
                        <tr>
                            <td>
                                {{ sound.count }}
                            </td>
                            <td>
                                {{ sound.title }}
                            </td>
                            <td>
                                <div style="width: 40px;height: 40px;overflow: hidden;border-radius: 50px;position: relative;transform: scale(0.7);border: 2px solid #000;">
                                    <audio controls preload="none"
                                           src="http://localhost:8000/sound/{{ sound.sound_id }}/{{ sound.formatted_title }}.mp3"
                                           style="position: absolute;top: -9px;left: -8px">
                                        Your browser does not support the <code>audio</code> element.
                                    </audio>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

{% endblock %}
